<%= form_with model: post, id: 'new_post', local: true do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
    <div class="mb-3">
        <%= f.label :post_image %>
        <%= f.file_field :post_image, class: "form-control", accept: 'image/*' %>
        <%= f.hidden_field :post_image_cache %>
    </div>
    <div id="previews"></div>
    <% if @post.post_image? %>
      <div id="existing-preview"><span class="text-danger small" >現在の画像</span>
        <img src="<%= @post.post_image.url %>">
      </div>
    <% end %>
    <div class="mb-3">
      <%= f.label :title %><span class="text-danger small" >*必須</span>
      <%= f.text_field :title, class: "form-control" %>
    </div>
    <div class="mb-3">
      <%= f.label :body %><span class="text-danger small" >*必須</span>
      <%= f.text_area :body, class: "form-control", rows: "10" %>
    </div>
    <div class="col-sm-2">
      <%= f.label :deadline %>
      <%= f.date_field :deadline, class: "form-control" %>
    </div>
    <%= f.submit nil, class: "btn btn-outline-primary btn-lg shadow-sm my-md-4" %>
<% end %>
